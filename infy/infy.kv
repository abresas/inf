FloatLayout:
    padding: 0
    resultsarea: results
    textarea: text
    scrlv: scrlv
    ScrollView:
        id: scrlv
        do_scroll_x: False
        do_scroll_y: True
        scroll_type: ['bars']
        pos: 0, 0
        size: root.width, root.height
        BoxLayout:
            orientation: 'horizontal'
            padding: 0
            height: text.height
            size_hint_y: None
            TextInput:
                size_hint: (.3, 1)
                id: results
                is_focusable: False
                halign: 'right'
                border: (0, 5, 0, 0)
                background_color: (.9,.9,.9,1)
                height: max(self.minimum_height, scrlv.height)
            TypeInput:
                size_hint: (.7, 1)
                id: text
                on_text: app.text_changed(self.text)
                background_color: (1,1,1,1)
                on_scroll_y: results.scroll_y = self.scroll_y
                height: max(self.minimum_height, scrlv.height)
    LoadButton:
        pos: root.width-240, 20
        size: 100, 100
        size_hint: None, None
        background_down: app.load_icon
        background_normal: app.load_icon
    SaveButton:
        pos: root.width-120, 20
        size: 100, 100
        size_hint: None, None
        background_down: app.save_icon
        background_normal: app.save_icon

<TextInput, CodeInput>:
    font_size: 40
    font_name: 'RobotoMono-Regular'
    background_normal: app.white_bg
    background_active: app.white_bg
    text_height: self.height - (len(self._lines)-1) * self.line_height - 55
    multiple: False
    filter: ["*.txt", "*.md"]
    padding: 30
